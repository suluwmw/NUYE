<!DOCTYPE html>
<html lang="en">
<head>
<!-- this links this html with the manifest needed for the PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#003366">

<meta charset="UTF-8">
<meta name="viewport" content="width=400, initial-scale=1.0">
<title>Northern Utah Youth Ensembles</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Allura&family=EB+Garamond&family=Marcellus+SC&display=swap" rel="stylesheet">

<!-- CSS -->
<style>
/* Global Styles */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'EB Garamond', serif;
  line-height: 1.6;
  background: #ddd;
}
.container {
  width: 400px;
  max-width: 400px;
  min-width: 400px;
  margin: auto;
  background: white;
  padding: 1rem;
  box-shadow: 0 0 10px rgba(0,0,0,0.15);
  overflow-x: hidden;
}

/* Header */
header {
  text-align: center;
  background-color: #015870;
  color: white;
  padding: 1rem;
}
header img { max-width: 100px; margin-bottom: 0.5rem; }


/* Navigation / Table of Contents */
nav {
  background-color: #f0f0f0;
  padding: 0.5rem;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 100;
}
nav a { margin: 0 0.3rem; text-decoration: none; color: #003366; font-weight: bold; }

/* Symphony Sub-TOC */
.sub-toc {
  display: flex;
  justify-content: space-between; /* spread links evenly across container */
  flex-wrap: nowrap;               /* prevent items from wrapping onto another row */
  background-color: #f0f0f0;
  padding: 0.5rem;
  margin-bottom: 1rem;
}

.sub-toc a {
  flex: 1;                        /* each link gets equal space */
  text-align: center;
  text-decoration: none;
  color: #003366;
  font-weight: bold;
  font-size: 0.9rem;
  word-wrap: break-word;           /* wrap long words inside the block */
  margin: 0 0.2rem;                /* small spacing between links */
}

/* Sections */
section { padding: 1.5rem 0; }
section h2 { text-align: center; margin-bottom: 1rem; }

/* Section Background Colors */
.draftbanner { background-color: #ee4b2b; }
.prep { background-color: #dcd495; }
.chamber { background-color: #d7b377; }
.wind { background-color: #825e2e; }
.symphony { background-color: #015870; color: #acedff }
.special1 { background-color: #000000; }
.special2 { background: linear-gradient(to bottom, 844c65, #fff); }
.special3 { background: linear-gradient(to bottom, 844c65, #fff); }
.special4 { background: linear-gradient(to bottom, #c8e6c9, #fff); }

/* Draftbanner for work-in-progress alert*/
.draftbanner {
  background-color: #ee4b2b;
  color: white;
  text-align: center;
  padding: 0.8rem;
  font-weight: bold;
  font-size: 0.9rem;
  line-height: 1.4;
}

/* Banner */
.banner {
  background-size: cover;
  padding: 80px 20px;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}
.banner h2 {
  font-size: 2rem;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
}

/* Text-wrap for modular pieces */
.text-wrap {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  margin-bottom: 1rem;
}

/* Piece Title, Composer, Pronunciation */
.piece-title { 
	font-family: 'EB Garamond', serif; 
	font-size: 1.1rem; 
	text-align: left; 
	color: #acedff; 
	font-weight: bold;
	margin: 0 0 0.1rem 0;
	padding: 0 0.4rem;
	letter-spacing: 0.3px;
}

.composer-name {
  font-size: 2.8rem;
  color: #FFFFFF;
  text-align: center;
  width: 100%;
  margin: -0.2 0 0.5rem 0;
  padding: 0 0.8rem;
  line-height: 1.1;
  position: relative;
  z-index: 1;
  tramsition: text-shadow 0.3s ease, color 0.3s ease;
}

/* Default (light backgrounds: Prep, Chamber, Wind) */
.prep .composer-name,
.chamber .composer-name,
.wind .composer-name {
  color: #222;
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.6); /* faint white glow */
}

/* Dark background (Symphony and special sections) */
.symphony .composer-name,
.special1 .composer-name,
.special2 .composer-name,
.special3 .composer-name,
.special4 .composer-name {
  color: #fff;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);   /* subtle dark halo=offset: horiz, vert, and blur radius */
}
/* Composer font by era */
.composer-name.medieval { font-family: 'EB Garamond', serif; }
.composer-name.baroque { font-family: 'EB Garamond', serif; }
.composer-name.classical { font-family: 'EB Garamond', serif; }
.composer-name.romantic { font-family: 'Allura', cursive; }
.composer-name.modern { font-family: 'EB Garamond', serif; }
.composer-name.postmodern { font-family: 'EB Garamond', serif; }
.composer-name.contemporary { font-family: 'EB Garamond', serif; }

.pronunciation {
  font-family: 'Marcellus SC', serif;
  font-size: 0.7rem;
  display: block;
  text-align: right;
  color: #acedff;
  padding: 0 0.4rem;
  margin-top: -0.4rem;
  margin-bottom: 1.4rem;
}


/* Timeline rectangle */
.timeline-rect {
  width: 100%;
  height: auto;
  background-color: #eee;
  margin-bottom: 0.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
}
.timeline-rect img { max-width: 100%; max-height: auto; display: block; }

/* Overview */
.overview {
  font-size: 1.2rem;
  line-height: 1.4;
  padding: 0.4rem 0.6rem;    /*adds inner spacing so text doesn't touch edges */
  margin-top: 0.4rem;      /* remove extra gap above */
  margin-bottom: 0;  /* small space below */
  box-sizing: border-box;     /*ensures padding doesn't change total width */
  background-color: inherit; /* keeps section color consitent if used inside colored section */
  text-align: center;   /* centered justification  */
  text-justify: none;
  width: 100%;
}
.shape.rectangle {
  width: 100%;
  height: 100px;
  background-size: cover;
  background-position: center;
  margin-bottom: 0.5rem;
}

/* =========================
   Reminder-to-Reload Banner
   ========================= */
#updateBanner {
  position: fixed;
  top: -100px;               /* hidden before showing */
  left: 0;
  width: 100%;
  background: #015870;       /* NUYS blue */
  color: #fff;
  text-align: center;
  padding: 0.6rem;
  font-size: 1rem;
  font-family: 'EB Garamond', serif;
  z-index: 120;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  letter-spacing: 0.3px;
  opacity: 0;
  transition: top 0.6s ease-out, opacity 0.6s ease-out;

  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.6rem;
  flex-wrap: wrap;
}

/* when banner is visible */
#updateBanner.visible {
  top: 0;
  opacity: 1;
}

/* --- animations for smooth appearance/disappearance --- */
@keyframes fadeInDown {
  from { opacity: 0; top: -100px; }
  to   { opacity: 1; top: 0; }
}
@keyframes fadeOutUp {
  from { opacity: 1; top: 0; }
  to   { opacity: 0; top: -100px; }
}
#updateBanner.showing { animation: fadeInDown 0.6s forwards ease-out; }
#updateBanner.hiding  { animation: fadeOutUp  0.6s forwards ease-in; }

/* --- unified button base --- */
#updateBanner button {
  margin-left: 0.4em;
  padding: 0.3em 0.8em;
  font-size: 0.95rem;
  font-family: 'EB Garamond', serif;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, border-color 0.2s;
}

/* --- primary button (blue solid) --- */
#updateBanner button.primary {
  background: #9FE2F9 !important;
  color: #003366 !important;
  border: 1px solid #9FE2F9 !important;
}
#updateBanner button.primary:hover {
  background: #C7F5F7 !important;
}

/* --- secondary button (white outline) --- */
#updateBanner button.secondary {
  background: transparent;
  color: #fff;
  border: 1px solid #fff;
}
#updateBanner button.secondary:hover {
  background: rgba(255,255,255,0.15);
}



/* Floating Buttons */
.float-btn {
  position: fixed;
  bottom: 20px;
  padding: 0.6rem 1rem;
  background-color: #003366;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.9rem;
  z-index: 200;
}
#btnTop { left: 20px; }
#btnNUYS { right: 20px; display: none; }

/* Copyright text */
.copyright { font-size: 0.7rem; color: #555; margin-top: 0.2rem; }

/* Faust Carousel Script - has css, html, and javascript sections */
.carousel {
  width: 100%;
  max-width: 360px;
  margin: 1rem auto;
}

.carousel-frame {
  position: relative;
  border: 8px solid #003366;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  background-color: #f8f8f8;
  overflow: hidden;
}

/* Caption band sits outside the image */
.carousel-caption {
  background: #015870;
  color: #fff;
  font-family: 'EB Garamond', serif;
  text-align: center;
  padding: 0.4rem;
  font-size: 2.0rem;
  letter-spacing: 0.3px;
}

/* Dedicated image area */
.carousel-image-area {
  position: relative;
  background: #000;
  width: 100%;
  overflow: hidden;
}

/* Two overlapping images for true crossfade */
.carousel-image-area {
  position: relative;
  width: 100%;
  overflow: hidden;
  background: #000;
}


/* Stack the images, but let them define the height */
.carousel-image-area img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: auto;
  opacity: 0;
  transition: opacity 0.8s ease-in-out;
}

/* When one is active, it becomes visible and defines height */
.carousel-image-area img.active {
  opacity: 1;
  position: relative;   /* bring it into normal flow so height adjusts */
  z-index: 2;
}

/* Inactive one stays behind, invisible */
.carousel-image-area img.inactive {
  opacity: 0;
  position: absolute;
  z-index: 1;
}




/* Navigation buttons */
.carousel-btn {
  position: absolute;
  top: 55%;
  transform: translateY(-50%);
  background-color: rgba(0,51,102,0.6);
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  padding: 0.4rem 0.6rem;
  font-size: 1.2rem;
  z-index: 10;
}

.carousel-btn.left { left: 6px; }
.carousel-btn.right { right: 6px; }
.carousel-btn:hover { background-color: rgba(0,51,102,0.9); }
</style>
</head>
<body>

<div class="container">

<header id="top">
  <img src="images/icon-512.png" alt="Orchestra Logo">
  <h1>Northern Utah Youth Ensembles</h1>
  <h2>Fall Concert Program Notes</h2>
</header>

<!-- Draft Banner, to mark when the program notes are up, but not yet complete -->
<section id="draftbanner" class="draftbanner" style="display:none;">
  <p><strong>⚠️ DRAFT VERSION:</strong> If you are seeing this, you are looking at a <strong>DRAFT</strong> of the program notes. 
  You may see placeholders, snippets, or incorrect information and images. For final program notes, please check back 1 week before our next concert, which is 22 November 2025 at Ben Lomond High School, Ogden, at 3pm. Admission is free.</p>
</section>

<nav>
  <a href="#prep">Preparatory</a> |
  <a href="#chamber">Chamber</a> |
  <a href="#wind">Wind</a> |
  <a href="#symphony">Symphony</a> 
</nav>

<!-- =================== Preparatory =================== -->
<section id="prep" class="prep">
  <div class="banner" style="background-image: url('images/banner_prep.png');"><h2>Preparatory Strings</h2></div>
  <div class="content">
    <p>Preparatory Strings performs lively works for young musicians, introducing them to ensemble playing and musical expression.</p>
    <p class="copyright">© Photographer Name</p>
  </div>
</section>

<!-- =================== Chamber =================== -->
<section id="chamber" class="chamber">
  <div class="banner" style="background-image: url('images/banner_chamber.png');"><h2>Chamber Orchestra</h2></div>
  <div class="content">
    <p>Chamber Ensemble performs small-group repertoire with focus on musical dialogue, phrasing, and interpretation.</p>
    <p class="copyright">© Photographer Name</p>
  </div>
</section>

<!-- =================== Wind =================== -->
<section id="wind" class="wind">
  <div class="banner" style="background-image: url('images/banner_wind.png');"><h2>Wind Ensemble</h2></div>
  <div class="content">
    <p>Wind Ensemble features woodwinds, brass, and percussion in classic and contemporary works.</p>
    <p class="copyright">© Photographer Name</p>
  </div>
</section>

<!-- =================== Symphony =================== -->
<section id="symphony" class="symphony">
  <div class="banner" style="background-image: url('images/banner_symphony.png');"><h2>Youth Symphony</h2></div>

  <!-- Symphony Sub-menu -->
  <nav class="sub-toc">
    <a href="#egmont">Egmont<br>Overture</a>
    <a href="#violin">Violin<br>Concerto</a>
    <a href="#hungarian">Hungarian<br>March</a>
    <a href="#carmen">Carmen<br>Suite</a>
  </nav>

  <!-- Piece 1: Beethoven -->
  <div id="egmont" class="text-wrap">
    <p class="piece-title">Egmont Overture</p>
    <div class="composer-name romantic">Ludwig van Beethoven</div>
    <span class="pronunciation">(BAY-toh-ven)</span>
    <div class="timeline-rect">
		<img src="images/timeline-beethoven.png" alt="Timeline Beethoven">
	</div>
    <div class="overview">
     The Egmont Overture has been called the "distilled essence of Beethoven." Written during his middle period, it still relies on classical structure but adds the narrative arc and powerful emotions of Romanticism. 
      <p class="copyright">© Artist Name</p>
    </div>
  </div>
  
  
    <!-- Block: Beethoven -->
  <section class="special1">
    <img src="images/block-beethoven.png" alt="Beethoven Info" style="width:100%; display:block;">
  </section>
  
  <!-- Block: Egmont -->
  <section class="special1">
    <img src="images/block-egmont.png" alt="Egmont Info" style="width:100%; display:block;">
  </section>

  <!-- Piece 2: Accolay -->
  <div id="violin" class="text-wrap">
    <p class="piece-title">Violin Concerto No. 1 in A minor</p>
    <div class="composer-name romantic">Jean-Baptiste Accolay</div>
    <span class="pronunciation">(AH-coh-lay)</span>
    <div class="timeline-rect">
		<img src="images/timeline-accolay.png" alt="Timeline Accolay">
	</div>
    <div class="overview">
      The liner notes from famous violinist Itzhak Perlman's album <em>Concertos from my Childhood</em>  refers to Accolay as 'long-forgotten'. But this piece, his <em>Violin Concerto in A Minor</em>, hasn't been. It's a one-movement gem of lyric romanticism, frequently used to showcase multiple bowing techniques and left-hand dexterity. 
      <p class="copyright">© Artist Name</p>
    </div>
  </div>
    <!-- Block: Accolay -->  
  <section class="special1">
    <img src="images/block-accolay.png" alt="Accolay Info" style="width:100%; display:block;">
  </section>
    <!-- Block: Soloist Instrument Showcase -->  
  <section class="special1">
    <img src="images/block-violin.png" alt="Violin Info" style="width:100%; display:block;">
  </section>
  
  <!-- Piece 3: Hector Berlioz -->
  <div id="hungarian" class="text-wrap">
    <p class="piece-title">"Hungarian March" from <em>The Damnation of Faust</em></p>
    <div class="composer-name romantic">Hector Berlioz</div>
    <span class="pronunciation">(BEHR-lee-ohz)</span>
    <div class="timeline-rect">
		<img src="images/timeline-berlioz.png" alt="Timeline Berlioz">
	</div>
	<div class="overview">
      The dramatic and exuberent "Hungarian March" occurs Act I of Berlioz's <em>The Damnation of Faust</em>. It's full of vitality and energy, in contrast to the title character. 
      <p class="copyright">© Artist Name</p>
    </div>

  
    <!-- Block: Berlioz -->
  <section class="special1">
    <img src="images/block-berlioz.png" alt="Berlioz Info" style="width:100%; display:block;">
  </section>
  
<!-- Faust Image Carousel has css, html, and javascript sections-->
<div class="carousel">
  <div class="carousel-frame">
    <div class="carousel-caption">The Damnation of Faust</div>

    <!-- Two stacked images for crossfade -->
    <div class="carousel-image-area">
      <img id="carousel-image1"
           src="images/faust-carousel-1.png"
           alt="Faust image 1"
           class="active">
      <img id="carousel-image2"
           src="images/faust-carousel-1.png"
           alt="Faust image 2"
           class="inactive">
    </div>

    <button class="carousel-btn left" onclick="prevImage()">&#10094;</button>
    <button class="carousel-btn right" onclick="nextImage()">&#10095;</button>
  </div>
</div>

  
  <!-- Block: Faust -->
  <section class="special1">
    <img src="images/block-faust.png" alt="Faust Info" style="width:100%; display:block;">
  </section>

  <!-- Block: Goethe -->
  <section class="special1">
    <img src="images/block-goethe.png" alt="Goethe Info" style="width:100%; display:block;">
  </section>
  
  <!-- Piece 4: Bizet -->
  <div id="carmen" class="text-wrap">
    <p class="piece-title">Carmen Suite No. 1</p>
    <div class="composer-name romantic">Georges Bizet</div>
    <span class="pronunciation">(bee-ZAY)</span>
    <div class="timeline-rect">
		<img src="images/timeline-bizet.png" alt="Timeline Bizet">
	</div>
    <div class="overview">
      Carmen was a shock to French opera-goers, and that was after it was toned down. They were perfectly used to seeing melodrama but they weren't used to seeing the actual death acted onstage. And the heroine is not at all conventional - instead she's from the working classes - and a flamboyant gypsy who does as she pleases. 
      <p class="copyright">© Artist Name</p>
    </div>
  </div>
  
    <!-- Block:Bizet -->
  <section class="special1">
    <img src="images/block-bizet.png" alt="Bizet Info" style="width:100%; display:block;">
  </section>
  
  <!-- Block: Opera-Comique -->
  <section class="special1">
    <img src="images/block-comique.png" alt="Opera-Comique Info" style="width:100%; display:block;">
  </section>

  <!-- Block: Prix de Rome -->
  <section class="special1">
    <img src="images/block-prix.png" alt="Prix de Rome Info" style="width:100%; display:block;">
  </section>


<!-- =================== Final Section =================== -->
  <section class="special1">
      <img src="images/block-final.png" alt="phones & thanks" style="width:100%; display:block;">
</section>

</div>

<!-- ===================== Floating Buttons ===================== -->
<button id="btnTop"
        onclick="location.href='#top'"
        style="position:fixed; left:20px; bottom:20px; z-index:500;
               padding:0.6rem 1rem; background-color:rgba(0,51,102,0.85);
               color:white; border:none; border-radius:6px; cursor:pointer;
               font-size:0.9rem; backdrop-filter:blur(2px);">
  Top
</button>

<button id="btnNUYS"
        onclick="location.href='#symphony'"
        style="position:fixed; right:20px; bottom:20px; z-index:500;
               display:none; padding:0.6rem 1rem; background-color:rgba(0,51,102,0.85);
               color:white; border:none; border-radius:6px; cursor:pointer;
               font-size:0.9rem; backdrop-filter:blur(2px);">
  Return to NUYS
</button>

<!-- ===================== Reminder-to-Reload Banner ===================== -->
<script>
(function() {
  const versionDate = "2025-10-11";  // Update this when republishing
  const lastVisit = localStorage.getItem("programVersion");

  window.addEventListener("DOMContentLoaded", () => {
    if (lastVisit && lastVisit !== versionDate) {
      showUpdateBanner();
    }
    localStorage.setItem("programVersion", versionDate);
  });

  function showUpdateBanner() {
    const banner = document.createElement("div");
    banner.id = "updateBanner";
    banner.innerHTML = `
      <span>Newer version available.</span>
    <button id="reloadBtn" class="primary">Reload</button>
    <button id="dismissBtn" class="secondary" title="Dismiss">Dismiss</button>
`;
    document.body.appendChild(banner);

    // Animate in with a smooth drop-in
  requestAnimationFrame(() => {
  banner.classList.add("showing");
  // After animation completes, switch to steady 'visible' state
  setTimeout(() => {
    banner.classList.remove("showing");
    banner.classList.add("visible");
  }, 600); // match CSS animation duration
});


    const reloadBtn = banner.querySelector("#reloadBtn");
    const dismissBtn = banner.querySelector("#dismissBtn");

    reloadBtn.addEventListener("click", tryReload);
    dismissBtn.addEventListener("click", () => hideBanner(banner));
  }

  function tryReload() {
    if (navigator.onLine) {
      location.reload(true);
    } else {
      alert("You're currently offline. The new version will load once internet is available.");
    }
  }

  function hideBanner(banner) {
    banner.classList.remove("visible");
    banner.classList.add("hiding");
    setTimeout(() => banner.remove(), 600);
  }
})();
</script>


<!-- Floating Button Visibility Script ===================== -->
<script>
  const btnNUYS = document.getElementById('btnNUYS');
  const symphony = document.getElementById('symphony');

  function updateNUYS() {
    const rect = symphony.getBoundingClientRect();
    if (rect.top <= 100 && rect.bottom >= 100) {
      btnNUYS.style.display = 'block';
    } else {
      btnNUYS.style.display = 'none';
    }
  }

  window.addEventListener('scroll', updateNUYS);
  window.addEventListener('DOMContentLoaded', updateNUYS);
</script>

<!-- Faust Carousel Script -->
<script>
window.carouselImages = [
  "images/faust-carousel-1.png",
  "images/faust-carousel-2.png",
  "images/faust-carousel-3.png",
  "images/faust-carousel-4.png",
  "images/faust-carousel-5.png"
];

window.currentIndex = 0;
window.showingFirst = true;

window.showImage = function(index) {
  const img1 = document.getElementById("carousel-image1");
  const img2 = document.getElementById("carousel-image2");
  if (!img1 || !img2) return;

  // Wrap around
  window.currentIndex = (index + window.carouselImages.length) % window.carouselImages.length;

  // Toggle classes for crossfade
  if (window.showingFirst) {
    img2.src = window.carouselImages[window.currentIndex];
    img2.classList.add("active");
    img2.classList.remove("inactive");
    img1.classList.remove("active");
    img1.classList.add("inactive");
  } else {
    img1.src = window.carouselImages[window.currentIndex];
    img1.classList.add("active");
    img1.classList.remove("inactive");
    img2.classList.remove("active");
    img2.classList.add("inactive");
  }

  window.showingFirst = !window.showingFirst;
};

window.nextImage = function() {
  window.showImage(window.currentIndex + 1);
};

window.prevImage = function() {
  window.showImage(window.currentIndex - 1);
};

// ✅ Make sure the first image is visible as soon as everything is loaded
window.addEventListener("load", () => {
  const img1 = document.getElementById("carousel-image1");
  const img2 = document.getElementById("carousel-image2");

  // reset to first image
  window.currentIndex = 0;

  img1.src = window.carouselImages[0];
  img1.classList.add("active");

  img2.src = window.carouselImages[0];
  img2.classList.add("inactive");
});
</script>

<!-- this is the service worker for the PWA from GitHub -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/NUYE/sw.js')
        .then(reg => console.log('SW registered:', reg.scope))
        .catch(err => console.error('SW registration failed:', err));
    });
  }
</script>

<!-- toggle to turn the draftbanner on as needed (default is off) -->
<script>
  // Uncomment this line to show the draft banner
  document.getElementById('draftbanner').style.display = 'block';
</script>

</body>
</html>
